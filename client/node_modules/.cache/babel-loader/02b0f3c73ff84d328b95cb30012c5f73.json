{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/javier/Escritorio/ironhack/Proyecto Final/Final-project/client/src/components/pages/Book/Book-list/Book-card.js\";\nimport { Col, Card, ButtonGroup } from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\nimport AuthService from '../../../../service/auth.service';\nimport './Book-card.css';\n\nclass BookCard extends Componentes {\n  constructor(props) {\n    super(props);\n    this.state = {\n      favoriteBooks: this.props.loggedInUser ? this.props.loggedInUser.favoriteBooks : []\n    };\n\n    saveFav = bookID => {\n      const favoriteBooks = [...this.props.loggedInUser.favoriteBooks];\n      favoriteBooks.push(bookID);\n      const updatedFavourites = [...favoriteBooks];\n      const updateUser = { ...this.props.loggedInUser,\n        favoriteBooks: updatedFavourites\n      };\n      this.userService.editUserInfo(this.props.loggedInUser._id, updateUser).then(response => {\n        this.props.setTheUser(response.data);\n      }).catch(err => console.log(err));\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(Col, {\n      lg: 4,\n      children: /*#__PURE__*/_jsxDEV(Card, {\n        className: \"book-card\",\n        children: [/*#__PURE__*/_jsxDEV(Card.Img, {\n          variant: \"top\",\n          src: props.image\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n          children: [/*#__PURE__*/_jsxDEV(Card.Title, {\n            children: props.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 40,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(ButtonGroup, {\n            \"aria-label\": \"Basic example\",\n            style: {\n              width: '100%'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              onClick: () => this.saveFav(this.state.book._id),\n              children: \" A\\xF1adir a favoritos\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 42,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Link, {\n              className: \"btn btn-dark\",\n              to: `/libros/editar/${props._id}`,\n              children: \"Editar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 43,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Link, {\n              className: \"btn btn-dark\",\n              to: `/libros/${props._id}`,\n              children: \"Ver detalles\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 44,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default BookCard;","map":{"version":3,"sources":["/home/javier/Escritorio/ironhack/Proyecto Final/Final-project/client/src/components/pages/Book/Book-list/Book-card.js"],"names":["Col","Card","ButtonGroup","Link","AuthService","BookCard","Componentes","constructor","props","state","favoriteBooks","loggedInUser","saveFav","bookID","push","updatedFavourites","updateUser","userService","editUserInfo","_id","then","response","setTheUser","data","catch","err","console","log","render","image","title","width","book"],"mappings":";;AAAA,SAASA,GAAT,EAAcC,IAAd,EAAoBC,WAApB,QAAuC,iBAAvC;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,WAAP,MAAwB,kCAAxB;AACA,OAAO,iBAAP;;AAIA,MAAMC,QAAN,SAAuBC,WAAvB,CAAmC;AAI/BC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACTC,MAAAA,aAAa,EAAE,KAAKF,KAAL,CAAWG,YAAX,GAA0B,KAAKH,KAAL,CAAWG,YAAX,CAAwBD,aAAlD,GAAkE;AADxE,KAAb;;AAMAE,IAAAA,OAAO,GAAIC,MAAD,IAAY;AAEtB,YAAMH,aAAa,GAAG,CAAC,GAAG,KAAKF,KAAL,CAAWG,YAAX,CAAwBD,aAA5B,CAAtB;AACAA,MAAAA,aAAa,CAACI,IAAd,CAAmBD,MAAnB;AACA,YAAME,iBAAiB,GAAG,CAAC,GAAGL,aAAJ,CAA1B;AACA,YAAMM,UAAU,GAAG,EAAE,GAAG,KAAKR,KAAL,CAAWG,YAAhB;AAA8BD,QAAAA,aAAa,EAAEK;AAA7C,OAAnB;AACA,WAAKE,WAAL,CAAiBC,YAAjB,CAA8B,KAAKV,KAAL,CAAWG,YAAX,CAAwBQ,GAAtD,EAA2DH,UAA3D,EACKI,IADL,CACWC,QAAD,IAAc;AACpB,aAAKb,KAAL,CAAWc,UAAX,CAAsBD,QAAQ,CAACE,IAA/B;AACC,OAHL,EAISC,KAJT,CAIeC,GAAG,IAAIC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAJtB;AAKC,KAXD;AAYH;;AAEDG,EAAAA,MAAM,GAAG;AACL,wBACI,QAAC,GAAD;AAAK,MAAA,EAAE,EAAE,CAAT;AAAA,6BACI,QAAC,IAAD;AAAM,QAAA,SAAS,EAAC,WAAhB;AAAA,gCACI,QAAC,IAAD,CAAM,GAAN;AAAU,UAAA,OAAO,EAAC,KAAlB;AAAwB,UAAA,GAAG,EAAEpB,KAAK,CAACqB;AAAnC;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEI,QAAC,IAAD,CAAM,IAAN;AAAA,kCACI,QAAC,IAAD,CAAM,KAAN;AAAA,sBAAarB,KAAK,CAACsB;AAAnB;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI,QAAC,WAAD;AAAa,0BAAW,eAAxB;AAAwC,YAAA,KAAK,EAAE;AAAEC,cAAAA,KAAK,EAAE;AAAT,aAA/C;AAAA,oCACI,QAAC,MAAD;AAAQ,cAAA,OAAO,EAAE,MAAM,KAAKnB,OAAL,CAAa,KAAKH,KAAL,CAAWuB,IAAX,CAAgBb,GAA7B,CAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,eAEI,QAAC,IAAD;AAAM,cAAA,SAAS,EAAC,cAAhB;AAA+B,cAAA,EAAE,EAAG,kBAAiBX,KAAK,CAACW,GAAI,EAA/D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFJ,eAGI,QAAC,IAAD;AAAM,cAAA,SAAS,EAAC,cAAhB;AAA+B,cAAA,EAAE,EAAG,WAAUX,KAAK,CAACW,GAAI,EAAxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAHJ;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YADJ;AAeH;;AA1C8B;;AA6CnC,eAAed,QAAf","sourcesContent":["import { Col, Card, ButtonGroup } from 'react-bootstrap'\nimport { Link } from 'react-router-dom'\nimport AuthService from '../../../../service/auth.service'\nimport './Book-card.css'\n\n\n\nclass BookCard extends Componentes {\n\n\n\n    constructor(props) {\n        super(props)\n        this.state = {\n            favoriteBooks: this.props.loggedInUser ? this.props.loggedInUser.favoriteBooks : [],\n        }\n\n\n    \n        saveFav = (bookID) => {\n\n        const favoriteBooks = [...this.props.loggedInUser.favoriteBooks]\n        favoriteBooks.push(bookID)\n        const updatedFavourites = [...favoriteBooks]\n        const updateUser = { ...this.props.loggedInUser, favoriteBooks: updatedFavourites }\n        this.userService.editUserInfo(this.props.loggedInUser._id, updateUser)\n            .then((response) => {\n            this.props.setTheUser(response.data)\n            })\n                .catch(err => console.log(err))\n        }\n    }\n\n    render() {\n        return (\n            <Col lg={4}>\n                <Card className=\"book-card\">\n                    <Card.Img variant=\"top\" src={props.image} />\n                    <Card.Body>\n                        <Card.Title>{props.title}</Card.Title>\n                        <ButtonGroup aria-label=\"Basic example\" style={{ width: '100%' }}>\n                            <Button onClick={() => this.saveFav(this.state.book._id)} > AÃ±adir a favoritos</Button>\n                            <Link className=\"btn btn-dark\" to={`/libros/editar/${props._id}`}>Editar</Link>\n                            <Link className=\"btn btn-dark\" to={`/libros/${props._id}`}>Ver detalles</Link>\n                        </ButtonGroup>\n                    </Card.Body>\n                </Card>\n            </Col>\n        )\n    }\n}\n\nexport default BookCard\n"]},"metadata":{},"sourceType":"module"}