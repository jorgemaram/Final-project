{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/javier/Escritorio/ironhack/Proyecto Final/Final-project/client/src/components/pages/Book/Book-list/Book-card.js\";\nimport { Button, Col, Card, ButtonGroup } from 'react-bootstrap';\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport AuthService from '../../../../service/auth.service';\nimport './Book-card.css';\n\nclass BookCard extends Component {\n  constructor(props) {\n    super(props);\n\n    this.saveFav = bookID => {\n      const favoriteBooks = [...this.props.loggedInUser.favoriteBooks];\n      favoriteBooks.push(bookID);\n      const updatedFavourites = [...favoriteBooks];\n      const updateUser = { ...this.props.loggedInUser,\n        favoriteBooks: updatedFavourites\n      };\n      this.authService.editUserInfo(this.props.loggedInUser._id, updateUser).then(response => {\n        this.props.setTheUser(response.data);\n      }).catch(err => console.log(err));\n    };\n\n    this.state = {\n      favoriteBooks: this.props.loggedInUser ? this.props.loggedInUser.favoriteBooks : []\n    };\n    this.authService = new AuthService();\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(Col, {\n      lg: 4,\n      children: /*#__PURE__*/_jsxDEV(Card, {\n        className: \"book-card\",\n        children: [/*#__PURE__*/_jsxDEV(Card.Img, {\n          variant: \"top\",\n          src: props.image\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n          children: [/*#__PURE__*/_jsxDEV(Card.Title, {\n            children: props.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(ButtonGroup, {\n            \"aria-label\": \"Basic example\",\n            style: {\n              width: '100%'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              onClick: () => this.saveFav(this.state.book._id),\n              children: \" A\\xF1adir a favoritos\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 44,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Link, {\n              className: \"btn btn-dark\",\n              to: `/libros/editar/${props._id}`,\n              children: \"Editar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 45,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Link, {\n              className: \"btn btn-dark\",\n              to: `/libros/${props._id}`,\n              children: \"Ver detalles\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 46,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default BookCard;","map":{"version":3,"sources":["/home/javier/Escritorio/ironhack/Proyecto Final/Final-project/client/src/components/pages/Book/Book-list/Book-card.js"],"names":["Button","Col","Card","ButtonGroup","React","Component","Link","AuthService","BookCard","constructor","props","saveFav","bookID","favoriteBooks","loggedInUser","push","updatedFavourites","updateUser","authService","editUserInfo","_id","then","response","setTheUser","data","catch","err","console","log","state","render","image","title","width","book"],"mappings":";;AAAA,SAASA,MAAT,EAAiBC,GAAjB,EAAsBC,IAAtB,EAA4BC,WAA5B,QAA+C,iBAA/C;AACA,OAAOC,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,WAAP,MAAwB,kCAAxB;AACA,OAAO,iBAAP;;AAIA,MAAMC,QAAN,SAAuBH,SAAvB,CAAiC;AAI7BI,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SASfC,OATe,GASJC,MAAD,IAAY;AAEtB,YAAMC,aAAa,GAAG,CAAC,GAAG,KAAKH,KAAL,CAAWI,YAAX,CAAwBD,aAA5B,CAAtB;AACAA,MAAAA,aAAa,CAACE,IAAd,CAAmBH,MAAnB;AACA,YAAMI,iBAAiB,GAAG,CAAC,GAAGH,aAAJ,CAA1B;AACA,YAAMI,UAAU,GAAG,EAAE,GAAG,KAAKP,KAAL,CAAWI,YAAhB;AAA8BD,QAAAA,aAAa,EAAEG;AAA7C,OAAnB;AAEA,WAAKE,WAAL,CACKC,YADL,CACkB,KAAKT,KAAL,CAAWI,YAAX,CAAwBM,GAD1C,EAC+CH,UAD/C,EAEKI,IAFL,CAEWC,QAAD,IAAc;AAAC,aAAKZ,KAAL,CAAWa,UAAX,CAAsBD,QAAQ,CAACE,IAA/B;AAAqC,OAF9D,EAGKC,KAHL,CAGWC,GAAG,IAAIC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAHlB;AAIC,KApBc;;AAEf,SAAKG,KAAL,GAAa;AACThB,MAAAA,aAAa,EAAE,KAAKH,KAAL,CAAWI,YAAX,GAA0B,KAAKJ,KAAL,CAAWI,YAAX,CAAwBD,aAAlD,GAAkE;AADxE,KAAb;AAIA,SAAKK,WAAL,GAAmB,IAAIX,WAAJ,EAAnB;AAEF;;AAeFuB,EAAAA,MAAM,GAAG;AACL,wBACI,QAAC,GAAD;AAAK,MAAA,EAAE,EAAE,CAAT;AAAA,6BACI,QAAC,IAAD;AAAM,QAAA,SAAS,EAAC,WAAhB;AAAA,gCACI,QAAC,IAAD,CAAM,GAAN;AAAU,UAAA,OAAO,EAAC,KAAlB;AAAwB,UAAA,GAAG,EAAEpB,KAAK,CAACqB;AAAnC;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEI,QAAC,IAAD,CAAM,IAAN;AAAA,kCACI,QAAC,IAAD,CAAM,KAAN;AAAA,sBAAarB,KAAK,CAACsB;AAAnB;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI,QAAC,WAAD;AAAa,0BAAW,eAAxB;AAAwC,YAAA,KAAK,EAAE;AAAEC,cAAAA,KAAK,EAAE;AAAT,aAA/C;AAAA,oCACI,QAAC,MAAD;AAAQ,cAAA,OAAO,EAAE,MAAM,KAAKtB,OAAL,CAAa,KAAKkB,KAAL,CAAWK,IAAX,CAAgBd,GAA7B,CAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,eAEI,QAAC,IAAD;AAAM,cAAA,SAAS,EAAC,cAAhB;AAA+B,cAAA,EAAE,EAAG,kBAAiBV,KAAK,CAACU,GAAI,EAA/D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFJ,eAGI,QAAC,IAAD;AAAM,cAAA,SAAS,EAAC,cAAhB;AAA+B,cAAA,EAAE,EAAG,WAAUV,KAAK,CAACU,GAAI,EAAxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAHJ;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YADJ;AAeH;;AA3C4B;;AA8CjC,eAAeZ,QAAf","sourcesContent":["import { Button, Col, Card, ButtonGroup } from 'react-bootstrap'\nimport React, { Component } from 'react'\nimport { Link } from 'react-router-dom'\nimport AuthService from '../../../../service/auth.service'\nimport './Book-card.css'\n\n\n\nclass BookCard extends Component {\n\n\n\n    constructor(props) {\n        super(props)\n        this.state = {\n            favoriteBooks: this.props.loggedInUser ? this.props.loggedInUser.favoriteBooks : [],\n        }\n\n        this.authService = new AuthService()\n\n     }\n        saveFav = (bookID) => {\n\n        const favoriteBooks = [...this.props.loggedInUser.favoriteBooks]\n        favoriteBooks.push(bookID)\n        const updatedFavourites = [...favoriteBooks]\n        const updateUser = { ...this.props.loggedInUser, favoriteBooks: updatedFavourites }\n            \n        this.authService\n            .editUserInfo(this.props.loggedInUser._id, updateUser)\n            .then((response) => {this.props.setTheUser(response.data)})\n            .catch(err => console.log(err))\n        }\n   \n\n    render() {\n        return (\n            <Col lg={4}>\n                <Card className=\"book-card\">\n                    <Card.Img variant=\"top\" src={props.image} />\n                    <Card.Body>\n                        <Card.Title>{props.title}</Card.Title>\n                        <ButtonGroup aria-label=\"Basic example\" style={{ width: '100%' }}>\n                            <Button onClick={() => this.saveFav(this.state.book._id)} > AÃ±adir a favoritos</Button>\n                            <Link className=\"btn btn-dark\" to={`/libros/editar/${props._id}`}>Editar</Link>\n                            <Link className=\"btn btn-dark\" to={`/libros/${props._id}`}>Ver detalles</Link>\n                        </ButtonGroup>\n                    </Card.Body>\n                </Card>\n            </Col>\n        )\n    }\n}\n\nexport default BookCard\n"]},"metadata":{},"sourceType":"module"}